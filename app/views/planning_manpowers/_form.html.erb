<%= form_for(@planning_manpower) do |f| %>
  <% if @planning_manpower.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@planning_manpower.errors.count, "error") %> prohibited this planning_manpower from being saved:</h2>

      <ul>
      <% @planning_manpower.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

    <div class="row-fluid">
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:group].to_s %>" class="control-label"><%= @form[:group].to_s %></label>
          <div class="controls">
            <%= f.select :group ,options_from_collection_for_select(GroupMaster.all ,'id','group_name') %>
          </div>
        </div>
      </div>
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:band].to_s %>" class="control-label"><%= @form[:band].to_s %></label>
          <div class="controls">
            <%= f.select :band, options_for_select([["Mid"], ["Sr"], ["Top"]], :include_blank => "Select") %>
          </div>
        </div>
      </div>
    </div>

    <div class="row-fluid">
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:position].to_s %>" class="control-label"><%= @form[:position].to_s %></label>
          <div class="controls">
            <%= f.text_field :position %>
          </div>
        </div>
      </div>
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:position_nature].to_s %>" class="control-label"><%= @form[:position_nature].to_s %></label>
          <div class="controls">
            <%= f.select :position_nature, options_for_select([["Fresh position"], ["Backfill"], ["Temporary"], ["Permenent"], ["Contract"]], :include_blank => "Select") %>
          </div>
        </div>
      </div>
    </div>

    <div class="row-fluid">
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:ff_source].to_s %>" class="control-label"><%= @form[:ff_source].to_s %></label>
          <div class="controls">
            <%= f.select :ff_source, options_for_select([["Hiring"], ["Transfer"], ["Promotion"]], :include_blank => "Select") %>
          </div>
        </div>
      </div>
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:location].to_s %>" class="control-label"><%= @form[:location].to_s %></label>
          <div class="controls">
            <%= f.select :location , options_for_select([]+EmployeeMaster.last.group_masters.last.company_master.company_addresses.all.map{|i| i.city}.uniq, :selected => f.object.location), {:include_blank => "Select"}, {:class => "chzn-select"} %>
          </div>
        </div>
      </div>
    </div>

    <div class="row-fluid">
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:supervisor].to_s %>" class="control-label"><%= @form[:supervisor].to_s %></label>
          <div class="controls">
            <%= f.select :supervisor ,options_from_collection_for_select(EmployeeMaster.all ,'id','employee_name', :selected => f.object.supervisor), {:include_blank => "Select"}, {:class => "chzn-select"} %>
          </div>
        </div>
      </div>
      <div class="span6">
        <div class="control-group">
          <label for="<%= @form[:comments].to_s %>" class="control-label"><%= @form[:comments].to_s %></label>
          <div class="controls">
            <%= f.text_area(:comments, size:"20x5")  %>
          </div>
        </div>
      </div>
    </div>


  <div class="actions">
    <%= f.submit @form_config[:submit], :class=>"btn btn-info" %>
  </div>
<% end %>

<!--<link rel="stylesheet" href="/assets/chosen.css" />-->
<script type="text/javascript" src="/assets/chosen.jquery.min.js"></script>

<script>
    $(function(){
        $(".chzn-select").chosen();
        $(".chzn-select-deselect").chosen({allow_single_deselect:true});
    });
</script>
