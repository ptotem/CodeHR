<div class="row-fluid">
  <%= nested_form_for(@manpower_planning, :url => (@new ? generic_create_path(@manpower_planning.class) : generic_update_path(@manpower_planning.class,@manpower_planning.id)), html: {class: "form-horizontal"}) do |f| %>
      <% if @manpower_planning.errors.any? %>
          <div id="error_explanation">
            <h2><%= pluralize(@manpower_planning.errors.count, "error") %> prohibited this manpower_planning from being saved:</h2>

            <ul>
              <% @manpower_planning.errors.full_messages.each do |msg| %>
                  <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
      <% end %>

      <div class="row-fluid">
        <div class="span8">
          <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                  <th><label for="<%= @form[:mp_code].to_s %>" class="control-label"><%= @form[:mp_code].to_s %></label></th>
                  <th><label for="<%= @form[:period_from].to_s %>" class="control-label"><%= @form[:period_from].to_s %> <sub>(dd-mm-yyyy)</sub> </label></th>
                  <th><label for="<%= @form[:period_to].to_s %>" class="control-label"><%= @form[:period_to].to_s %> <sub>(dd-mm-yyyy)</sub> </label></th>
                  <th><label for="<%= @form[:requested_by].to_s %>" class="control-label"><%= @form[:requested_by].to_s %></label></th>
                  <th><label for="<%= @form[:role].to_s %>" class="control-label"><%= @form[:role].to_s %></label></th>
                  <th><label for="<%= @form[:final_approved_number].to_s %>" class="control-label"><%= @form[:final_approved_number].to_s %></label></th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td>
                      <%= f.text_field :mp_code, {:class => "my_width"} %>
                    </td>
                    <td>
                      <div class="input-append date">
                        <%= f.text_field :period_from, :class=>"date-picker", :"data-date-format"=>"dd-mm-yyyy" %>

                        <% if !params[:process_id].nil? %>
                            <%= hidden_field_tag :process_id, params[:process_id] %>
                            <%= hidden_field_tag :seq, params[:seq] %>
                        <% end %>

                        <span class="add-on"><i class="icon-calendar"></i></span>
                      </div>
                    </td>
                    <td>
                      <div class="input-append date">
                        <%= f.text_field :period_to, :class=>"date-picker", :"data-date-format"=>"dd-mm-yyyy" %>
                        <span class="add-on"><i class="icon-calendar"></i></span>
                      </div>
                    </td>
                    <td>
                      <%= f.select :requested_by, options_from_collection_for_select(EmployeeMaster.all,'id','employee_name'), {:include_blank => "Select"}, {:class => "chzn-select"} %>
                    </td>
                    <td>
                      <%= f.select :role, options_from_collection_for_select(Role.all,'id','name'), {:include_blank => "Select"}, {:class => "chzn-select"} %>
                    </td>
                    <td>
                      <%= f.text_field :final_approved_number, {:class => "my_width"} %>
                    </td>
                </tr>
            </tbody>

          </table>
        </div>
      </div>



      <hr style="width: 91%;">

      <!--<%#= f.fields_for :approval_mats do |approval_mats| %>-->
          <!--<div class="control-group">-->
            <!--<%#= approval_mats.label :employee_master_id,:class => "control-label" %>-->
            <!--<label for="<%#= @form[:employee_master_id].to_s %>" class="control-label"><%#= @form[:employee_master_id].to_s %></label>-->
            <!--<div class="controls">-->
              <!--<%#= approval_mats.text_field :employee_master_id %>-->
              <!--<%#= approval_mats.link_to_remove "Remove this record" %>-->
            <!--</div>-->
          <!--</div>-->

      <!--<%# end %>-->
      <!--<%#= f.link_to_add "Add new record", :approval_mats %>-->
      <!--<hr>-->

      <%#= f.fields_for :vacancy_masters do |vacancy_masters| %>
          <!--<div class="row-fluid">-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :vacancy_code,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_vacancy_code].to_s %>" class="control-label"><%#= @form[:vacancy_master_vacancy_code].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :vacancy_code %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :manpower_planning_id,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_manpower_planning_id].to_s %>" class="control-label"><%#= @form[:vacancy_master_manpower_planning_id].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :manpower_planning_id %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->

          <!--<div class="row-fluid">-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :description,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_description].to_s %>" class="control-label"><%#= @form[:vacancy_master_description].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :description %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :status,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_status].to_s %>" class="control-label"><%#= @form[:vacancy_master_status].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :status %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->

          <!--<div class="row-fluid">-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :sourcing_strategy,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_sourcing_strategy].to_s %>" class="control-label"><%#= @form[:vacancy_master_sourcing_strategy].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :sourcing_strategy %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :hr_rep,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_hr_rep].to_s %>" class="control-label"><%#= @form[:vacancy_master_hr_rep].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :hr_rep %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->

          <!--<div class="row-fluid">-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :hiring_manager,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_hiring_manager].to_s %>" class="control-label"><%#= @form[:vacancy_master_hiring_manager].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :hiring_manager %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
            <!--<div class="span6">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :ctc_range_from,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_ctc_range_from].to_s %>" class="control-label"><%#= @form[:vacancy_master_ctc_range_from].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :ctc_range_from %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->

          <!--<div class="row-fluid">-->
            <!--<div class="span12">-->
              <!--<div class="control-group">-->
                <!--<%#= vacancy_masters.label :ctc_range_to,:class => "control-label" %>-->
                <!--<label for="<%#= @form[:vacancy_master_ctc_range_to].to_s %>" class="control-label"><%#= @form[:vacancy_master_ctc_range_to].to_s %></label>-->
                <!--<div class="controls">-->
                  <!--<%#= vacancy_masters.text_field :ctc_range_to %>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
          <!--</div>-->

        <!--<div class="control-group">-->
          <!--<div class="controls">-->
            <!--<%#= vacancy_masters.link_to_remove "Remove this record" %>-->
          <!--</div>-->
        <!--</div>-->

      <!--<%# end %>-->
      <!--<%#= f.link_to_add "Add new record", :vacancy_masters %>-->
      <!--<hr>-->



      <!--<%# @fields = DynamicField.where(:oclass=>"ManpowerPlanning") %>-->
      <!--<h3 class="header lighter blue">Dynamic Field</h3>-->
      <!--<%# @fields.each do |field| %>-->
          <!--<div class="control-group">-->
            <!--<%#= f.label field.name.to_sym,:class => "control-label" %>-->
            <!--<div class="controls">-->
              <!--<%#= f.send(field.type.to_sym, field.name.to_sym )%>-->
            <!--</div>-->
          <!--</div>-->
      <!--<%# end %>-->

      <div class="actions">
        <%= f.submit @form_config[:submit], :class=>"btn btn-info" %>
      </div>
  <% end %>

</div>

<!--<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>-->
<script src="/assets/bootstrap-datepicker.min.js"></script>

<!--<link rel="stylesheet" href="/assets/chosen.css" />-->
<script type="text/javascript" src="/assets/chosen.jquery.min.js"></script>

<script>
    $(function(){

        $('html, body').css('overflow','hidden');
        $('sub').css('bottom','0.01em');

        $('.date-picker').datepicker();

        $('.control-label').css('text-align','left');

        $('body').on('click', function(){
            $('.date-picker').show();
        });

        $(".chzn-select").chosen();
        $(".chzn-select-deselect").chosen({allow_single_deselect:true});

        //$(":input").css('width','85%');
        $("input.my_width:text").css('width','85%');
        $("input.date-picker:text").css('width','76%');

//        $(".chzn-select").css('width','95%');
//        $(".chzn-container").css('width','95%');
//        $(".chzn-drop>input:text").css('width','95%');
//        $(".chzn-drop>div").css('width','95%');
    });
    function add_dp(){
        $('.date-picker').datepicker();
    }
</script>
