<div class="row-fluid">
<%= nested_form_for(@employee_master, :url => (@new ? generic_create_path(@employee_master.class) : generic_update_path(@employee_master.class,@employee_master.id)), html: {class: "form-horizontal"}) do |f| %>

    <% if @employee_master.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@employee_master.errors.count, "error") %> prohibited this employee_master from being
            saved:</h2>

          <ul>
            <% @employee_master.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

  <div class="tabbable">
    <ul class="nav nav-tabs" id="myTab">
      <li class="active"><a data-toggle="tab" href="#dropdown1">Employees</a></li>
      <!--<li><a data-toggle="tab" href="#reporting">Reporting Tos</a></li>-->
    </ul>


    <div class="tab-content">

      <div id="dropdown1" class="tab-pane in active">

        <!--<p>-->
        <div class="row-fluid">

          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :employee_code) %>
              <label for="<%= @form[:employee_code].to_s %>" class="control-label"><%= @form[:employee_code].to_s %></label>
              <div class="controls">
                <%= f.text_field :employee_code,:value => @em_code,:disabled=>'disabled' %>
              </div>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :employee_name) %>
              <label for="<%= @form[:employee_name].to_s %>" class="control-label"><%= @form[:employee_name].to_s %></label>
              <div class="controls">
                <%= f.text_field :employee_name %>
              </div>
            </div>
          </div>
          <div class="span6">
            <div class="control-group">
              <%#= f.label :employee_middle_name_name,:class => "control-label" %>
              <label for="<%= @form[:employee_middle_name_name].to_s %>" class="control-label"><%= @form[:employee_middle_name_name].to_s %></label>
              <div class="controls">
                <%= f.text_field :employee_middle_name_name %>
              </div>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span6">
            <div class="control-group">
              <%#= f.label :status,:class => "control-label" %>
              <label for="<%= @form[:status].to_s %>" class="control-label"><%= @form[:status].to_s %></label>
              <div class="controls">
                <%= f.select :status, ['Active', 'Transferred', 'Resigned', 'Separated'] %>
              </div>
            </div>
          </div>
          <div class="span6">
            <div class="control-group">
              <%#= f.label :gender,:class => "control-label" %>
              <label for="<%= @form[:gender].to_s %>" class="control-label"><%= @form[:gender].to_s %></label>
              <div class="controls">
                <%= f.select(:gender, [['Male', 'M'], ['Female', 'F'], ['Other', 'O']]) %>
              </div>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :marital_status) %>
              <label for="<%= @form[:marital_status].to_s %>" class="control-label"><%= @form[:marital_status].to_s %></label>
              <div class="controls">
                <%= f.select(:marital_status, [['Married'], ['Unmarried'], ['Separated'], ['In Relationship']]) %>
              </div>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span6">
              <div class="control-group">
                <%#= raw custom_lable(@employee_master, :date_of_birth) %>
                <label for="<%= @form[:date_of_birth].to_s %>" class="control-label"><%= @form[:date_of_birth].to_s %>  <sub>(dd-mm-yyyy)</sub>  </label>
                <div class="controls">
                  <%#= f.date_select :date_of_birth %>
                  <div class="row-fluid input-append date">
                    <%= f.text_field :date_of_birth, :class=>"span6 date-picker", :"data-date-format"=>"dd-mm-yyyy" %>
                    <span class="add-on"><i class="icon-calendar"></i></span>
                  </div>
                </div>
              </div>
          </div>
          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :group_master_id) %>
              <label for="<%= @form[:group_master].to_s %>" class="control-label"><%= @form[:group_master].to_s %></label>
              <div class="controls">
                <%= f.select :group_master_id, options_from_collection_for_select(GroupMaster.all,'id','group_name'), {:include_blank => "Select"}, {:class => "chzn-select"} %>
              </div>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :date_of_joining) %>
              <label for="<%= @form[:date_of_joining].to_s %>" class="control-label"><%= @form[:date_of_joining].to_s %> <sub>(dd-mm-yyyy)</sub> </label>
              <div class="controls">
                <%#= f.date_select :date_of_joining %>
                <div class="row-fluid input-append date">
                  <%= f.text_field :date_of_joining, :class=>"span6 date-picker", :"data-date-format"=>"dd-mm-yyyy" %>
                  <span class="add-on"><i class="icon-calendar"></i></span>
                </div>
              </div>
            </div>
          </div>
          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :designation_joined_at) %>
              <label for="<%= @form[:designation_joined_at].to_s %>" class="control-label"><%= @form[:designation_joined_at].to_s %></label>
              <div class="controls">
                <%= f.text_field :designation_joined_at %>
              </div>
            </div>
          </div>
        </div>

        <div class="row-fluid">
          <div class="span6">
            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :official_email) %>
              <label for="<%= @form[:official_email].to_s %>" class="control-label"><%= @form[:official_email].to_s %></label>
              <div class="controls">
                <%= f.text_field :official_email %>
              </div>
            </div>
          </div>
          <div class="span6">
            <% if !params[:process_id].nil? %>
                <%= hidden_field_tag :process_id, params[:process_id] %>
                <%= hidden_field_tag :seq, params[:seq] %>
            <% end %>

            <div class="control-group">
              <%#= raw custom_lable(@employee_master, :address_for_communication) %>
              <label for="<%= @form[:address_for_communication].to_s %>" class="control-label"><%= @form[:address_for_communication].to_s %></label>
              <div class="controls">
                <%= f.text_area(:address_for_communication, size:"20x5")  %>
              </div>
            </div>
          </div>
        </div>


        <!--</p>-->
      </div>
      <div id="dropdown2" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>

      <div id="dropdown3" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>

      <div id="dropdown4" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>

      <div id="dropdown5" class="tab-pane">
        <p>
        </p>
      </div>


      <!--<div id="reporting" class="tab-pane">-->
        <!--<p>-->
          <!--<%#= f.fields_for :reporting_tos do |reporting_tos| %>-->
            <!--<div class="control-group">-->
              <!--<%#= reporting_tos.label :reporting_officer_id,:class => "control-label" %>-->
              <!--<label for="<%#= @form[:reporting_officer].to_s %>" class="control-label"><%#= @form[:reporting_officer].to_s %></label>-->
              <!--<div class="controls">-->
                <!--<%#= reporting_tos.text_field :reporting_officer_id %>-->
                <!--<%#= reporting_tos.select :reporting_officer_id ,options_from_collection_for_select(EmployeeMaster.all ,'id','employee_name') %>-->
                <!--<%#= reporting_tos.link_to_remove "Remove this task" %>-->
              <!--</div>-->
            <!--</div>-->
        <!--<%# end %>-->
        <!--<%#= f.link_to_add "Reporting Tos", :reporting_tos %>-->
        <!--</p>-->
      <!--</div>-->

      <div id="employ_hists" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>

      <div id="educations" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>

      <div id="family_details" class="tab-pane">
        <!--<p>-->

       <!--</p>-->
      </div>

      <div id="pf_nominations" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>

      <div id="esis_nominations" class="tab-pane">
        <!--<p>-->

        <!--</p>-->
      </div>


      <div id="dynamic_field" class="tab-pane">
        <p>
          <% @fields = DynamicField.where(:oclass=>"EmployeeMaster") %>
        <h3 class="header lighter blue">Dynamic Field</h3>
        <% @fields.each do |field| %>
            <div class="control-group">
              <%= f.label field.name.to_sym,:class => "control-label" %>
              <div class="controls">
                <%= f.send(field.type.to_sym, field.name.to_sym )%>
              </div>
            </div>
        <% end %>



        </p>
      </div>
    </div>
  </div>
    <div class="form-actions">
      <%#= f.submit :class=>"btn btn-info" %>
      <%= f.submit @form_config[:submit], :class=>"btn btn-info" %>
    </div>

<% end %>
</div>

<!--<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>-->
<script src="/assets/bootstrap-datepicker.min.js"></script>

<!--<link rel="stylesheet" href="/assets/chosen.css" />-->
<script type="text/javascript" src="/assets/chosen.jquery.min.js"></script>

<script>
  $(function(){

      $('.control-label').css('text-align','left');

      $('.date-picker').datepicker();

      $('body').on('click', function(){
          $('.date-picker').show();
      });

      $(".chzn-select").chosen();
      $(".chzn-select-deselect").chosen({allow_single_deselect:true});
  });
  function add_dp(){
      $('.date-picker').datepicker();
  }
</script>



