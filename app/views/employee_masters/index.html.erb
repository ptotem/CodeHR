<div class="row-fluid">
  <div class="offset4 span4">
    <%= link_to 'New Employee master', new_employee_master_path, :class=>"btn btn-info" %>
  </div>
</div>

<br>

<div class="row-fluid">
  <div class="span12">
    <div class="table-header">Listing Employee Masters</div>
    <table id="employee_master_table" class="table table-striped table-bordered table-hover">
      <thead>
          <tr>
            <th>Employee Code</th>
            <th>Employee Name</th>
            <th>Status</th>
            <th>Gender</th>
            <th>Date of Joining</th>
            <th>Designation Joined At</th>
            <th>Current Designation</th>
            <th>Official Email</th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
      </thead>

      <tbody>
          <% @employee_masters.each do |employee_master| %>
              <tr>
                <td><%= employee_master.employee_code %></td>
                <td><%= employee_master.employee_name %></td>
                <td><%= employee_master.status %></td>
                <td><%= employee_master.gender %></td>
                <td><%= l(employee_master.date_of_joining, :format => :default) if employee_master.date_of_joining %></td>
                <td><%= employee_master.designation_joined_at %></td>
                <td><%= employee_master.employee_detail.current_designation rescue nil %></td>
                <td><%= employee_master.official_email %></td>
                <td><%= link_to 'Show', employee_master %></td>
                <td><%= link_to 'Edit', edit_employee_master_path(employee_master) %></td>
                <td><%= link_to 'Destroy', employee_master, method: :delete, data: { confirm: 'Are you sure?' } %></td>
              </tr>
          <% end %>
      </tbody>
    </table>
  </div>
</div>

<%= javascript_include_tag "jquery.dataTables.min" %>
<%= javascript_include_tag "jquery.dataTables.bootstrap" %>
<%= javascript_include_tag "custom_dataTable" %>


<script>
    $(function(){
        apply_dataTable('#employee_master_table', '#employee_master_table_wrapper','#employee_master_table_length', '#employee_master_table_filter');
    });
</script>
